<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>PIO: Install Walk-through</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PIO
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>PIO&#160;User's&#160;Guide</span></a></li>
      <li class="current"><a href="annotated.html"><span>Appendix</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types</span></a></li>
      <li class="current"><a href="pages.html"><span>Page&#160;Index</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Install Walk-through </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This document provides specific instructions for installing PIO using a variety of compilers on a few commonly used super computers. Click on the link below to go directly to the machine of interest.</p>
<ul>
<li><a href="#Yellowstone">Yellowstone</a> (NCAR's 1.5-petaflop IBM Supercomputer)</li>
<li><a href="#Edison">Edison</a> (A NERSC Cray XC30 Supercomputer)</li>
<li><a href="#Mira">Mira</a> (IBM Blue Gene Supercomputer at ALCF)</li>
<li><a href="#BlueWat">Blue Waters</a> (NCSA's 1.3-petaflop Cray Supercomputer)</li>
<li><a href="#Hobart">Hobart</a> (The NCAR CGD local cluster)</li>
</ul>
<p><a class="anchor" id="Yellowstone"></a> </p>
<h3>Yellowstone</h3>
<ol>
<li>
<p class="startli">Directory setup</p>
<p>Download a copy of the PIO source into a sub-directory of your working directory (refered to here as the PIO_source directory). Create another sub-directory for the build (refered to here as the PIO_build directory) and 'cd' into it.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Modules</p>
<p>Modules required for installation depend on your prefered compiler. Issue the commands below to set the module environment for building PIO on Yellowstone.</p>
<ul>
<li><p class="startli">Intel</p>
<p class="startli">%&gt; module reset<br/>
 %&gt; module unload netcdf<br/>
 %&gt; module swap intel intel/15.0.3<br/>
 %&gt; module load git/2.3.0<br/>
 %&gt; module load cmake/3.0.2<br/>
 %&gt; module load netcdf-mpi/4.3.3.1<br/>
 %&gt; module load pnetcdf/1.6.0<br/>
</p>
</li>
<li><p class="startli">GNU</p>
<p class="startli">%&gt; module reset<br/>
 %&gt; module unload netcdf<br/>
 %&gt; module swap intel gnu/4.8.2<br/>
 %&gt; module load git/2.3.0<br/>
 %&gt; module load cmake/3.0.2<br/>
 %&gt; module load netcdf-mpi/4.3.3.1<br/>
 %&gt; module load pnetcdf/1.6.0<br/>
</p>
</li>
<li><p class="startli">PGI</p>
<p class="startli">%&gt; module reset<br/>
 %&gt; module unload netcdf<br/>
 %&gt; module swap intel pgi/13.3<br/>
 %&gt; module load git/2.3.0<br/>
 %&gt; module load cmake/3.0.2<br/>
 %&gt; module load netcdf-mpi/4.3.3.1<br/>
 %&gt; module load pnetcdf/1.6.0<br/>
</p>
</li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Environment Variables</p>
<p>The appropriate compiler wrappers must be chosen for cmake, so the environment variables CC and FC must be set as:<br/>
 CC=mpicc<br/>
 FC=mpif90<br/>
</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Build</p>
<p class="endli">Building PIO requires running the CMake configure and then make. In the PIO_build directory type<br/>
 %&gt; cmake ../PIO_source/<br/>
 %&gt; make<br/>
 </p>
</li>
</ol>
<p><a class="anchor" id="Edison"></a> </p>
<h3>Edison</h3>
<ol>
<li>
<p class="startli">Directory setup</p>
<p>Download a copy of the PIO source into a sub-directory of your working directory (refered to here as the PIO_source directory). Create another sub-directory for the build (refered to here as the PIO_build directory) and 'cd' into it.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Modules</p>
<p>Modules required for installation depend on your prefered compiler. Issue the commands below to set the module environment for building PIO on Edison.</p>
<ul>
<li><p class="startli">Intel</p>
<p class="startli">%&gt; module purge<br/>
 %&gt; module load PrgEnv-intel<br/>
 %&gt; module load craype-ivybridge<br/>
 %&gt; module load cray-shmem<br/>
 %&gt; module load cray-mpich<br/>
 %&gt; module load torque<br/>
 %&gt; module load git/2.4.6 <br/>
 %&gt; module load cmake/3.0.0<br/>
 %&gt; module load cray-hdf5-parallel/1.8.14<br/>
 %&gt; module load cray-netcdf-hdf5parallel/4.3.3.1<br/>
 %&gt; module load cray-parallel-netcdf/1.6.0<br/>
</p>
</li>
<li><p class="startli">GNU</p>
<p class="startli">%&gt; module purge<br/>
 %&gt; module load PrgEnv-gnu<br/>
 %&gt; module load craype-ivybridge<br/>
 %&gt; module load cray-shmem<br/>
 %&gt; module load cray-mpich<br/>
 %&gt; module load torque<br/>
 %&gt; module load git/2.4.6<br/>
 %&gt; module load cmake/3.0.0<br/>
 %&gt; module load cray-hdf5-parallel/1.8.14<br/>
 %&gt; module load cray-netcdf-hdf5parallel/4.3.3.1<br/>
 %&gt; module load cray-parallel-netcdf/1.6.0<br/>
</p>
</li>
<li><p class="startli">Cray</p>
<p class="startli">%&gt; module purge<br/>
 %&gt; module load PrgEnv-cray<br/>
 %&gt; module load craype-ivybridge<br/>
 %&gt; module load cray-shmem<br/>
 %&gt; module load cray-mpich<br/>
 %&gt; module swap cce cce/8.4.0.223<br/>
 %&gt; module load torque<br/>
 %&gt; module load git/2.4.6 <br/>
 %&gt; module load cmake/3.0.0<br/>
 %&gt; module load cray-hdf5-parallel/1.8.14<br/>
 %&gt; module load cray-netcdf-hdf5parallel/4.3.3.1<br/>
 %&gt; module load cray-parallel-netcdf/1.6.0<br/>
</p>
</li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Environment Variables</p>
<p>The appropriate compiler wrappers must be chosen for cmake, so the environment variables CC and FC must be set as:<br/>
 CC=cc<br/>
 FC=ftn<br/>
</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Build</p>
<p>Building PIO requires running the CMake configure and then make. In the PIO_build directory type<br/>
 %&gt; cmake -DCMAKE_VERBOSE_MAKEFILE=TRUE \<br/>
 -DPREFER_STATIC=TRUE \<br/>
 -DNetCDF_PATH=${NETCDF_DIR} \<br/>
 -DPnetCDF_PATH=${PARALLEL_NETCDF_DIR} \<br/>
 -DHDF5_PATH=${HDF5_DIR} \<br/>
 -DMPI_C_INCLUDE_PATH=${MPICH_DIR}/include \<br/>
 -DMPI_Fortran_INCLUDE_PATH=${MPICH_DIR}/include \<br/>
 -DMPI_C_LIBRARIES=${MPICH_DIR}/lib/libmpich.a \<br/>
 -DMPI_Fortran_LIBRARIES=${MPICH_DIR}/lib/libmpichf90.a \<br/>
 -DCMAKE_SYSTEM_NAME=Catamount \<br/>
 ../PIO_source/<br/>
 %&gt; make</p>
<p class="endli"></p>
</li>
</ol>
<p><a class="anchor" id="Mira"></a> </p>
<h3>Mira/Cetus</h3>
<ol>
<li>
<p class="startli">Directory setup</p>
<p>Download a copy of the PIO source into a sub-directory of your working directory (refered to here as the PIO_source directory). Create another sub-directory for the build (refered to here as the PIO_build directory) and 'cd' into it.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Softenv packages and environment variables</p>
<p>It is not necessary to edit your .soft file on Mira inorder to build PIO. Execute the following commands to temporarily load packages into your softenv. These packages use the IBM/XL compiler.<br/>
 %&gt; soft add +mpiwrapper-xl (or switch from the default in your softenv)<br/>
 %&gt; soft add -compilers-2015-02<br/>
 %&gt; soft add +cmake<br/>
 %&gt; soft add +git<br/>
</p>
<p>And then set the following environment variables to add in the rest of the library paths.<br/>
 %&gt; setenv LIBZ /soft/libraries/alcf/current/xl/ZLIB<br/>
 %&gt; setenv HDF5 /soft/libraries/hdf5/1.8.14/cnk-xl/V1R2M2-20150213<br/>
 %&gt; setenv NETCDF /soft/libraries/netcdf/4.3.3-f4.4.1/cnk-xl/V1R2M2-20150213<br/>
 %&gt; setenv PNETCDF /soft/libraries/pnetcdf/1.6.0/cnk-xl/V1R2M2-20150213<br/>
 %&gt; setenv CC /soft/compilers/wrappers/xl/mpixlc_r<br/>
 %&gt; setenv FC /soft/compilers/wrappers/xl/mpixlf90_r<br/>
</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Build</p>
<p>Building PIO requires running the CMake configure and then make. In the PIO_build directory type<br/>
 %&gt; cmake -DPREFER_STATIC=TRUE ../PIO_source/<br/>
 %&gt; make</p>
<p class="endli"></p>
</li>
</ol>
<p><a class="anchor" id="BlueWat"></a> </p>
<h3>Blue Waters</h3>
<ol>
<li>
<p class="startli">Directory setup</p>
<p>Download a copy of the PIO source into a sub-directory of your working directory (refered to here as the PIO_source directory). Create another sub-directory for the build (refered to here as the PIO_build directory) and 'cd' into it.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Modules</p>
<p>Modules required for installation depend on your prefered compiler. Issue the commands below to set the module environment for building PIO on Hobart.</p>
<ul>
<li><p class="startli">Intel</p>
<p class="startli">%&gt; module swap PrgEnv-cray PrgEnv-intel<br/>
 %&gt; module load torque<br/>
 %&gt; module load git<br/>
 %&gt; module load cmake<br/>
 %&gt; module load cray-hdf5-parallel/1.8.14<br/>
 %&gt; module load cray-netcdf-hdf5parallel/4.3.3.1<br/>
 %&gt; module load cray-parallel-netcdf/1.6.0<br/>
</p>
</li>
<li><p class="startli">PGI</p>
<p class="startli">%&gt; module swap PrgEnv-cray PrgEnv-pgi<br/>
 %&gt; module load torque<br/>
 %&gt; module load git<br/>
 %&gt; module load cmake<br/>
 %&gt; module load cray-hdf5-parallel/1.8.14<br/>
 %&gt; module load cray-netcdf-hdf5parallel/4.3.3.1<br/>
 %&gt; module load cray-parallel-netcdf/1.6.0<br/>
</p>
</li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Environment Variables</p>
<p>The appropriate compiler wrappers must be chosen for cmake, so the environment variables CC and FC must be set as:<br/>
 CC=cc<br/>
 FC=ftn<br/>
</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Build</p>
<p>Building PIO requires running the CMake configure and then make. In the PIO_build directory type<br/>
 %&gt; cmake -DCMAKE_VERBOSE_MAKEFILE=TRUE \<br/>
 -DPREFER_STATIC=TRUE \<br/>
 -DNetCDF_PATH=${NETCDF_DIR} \<br/>
 -DPnetCDF_PATH=${PARALLEL_NETCDF_DIR} \<br/>
 -DHDF5_PATH=${HDF5_DIR} \<br/>
 -DMPI_C_INCLUDE_PATH=${MPICH_DIR}/include \<br/>
 -DMPI_Fortran_INCLUDE_PATH=${MPICH_DIR}/include \<br/>
 -DMPI_C_LIBRARIES=${MPICH_DIR}/lib/libmpich.a \<br/>
 -DMPI_Fortran_LIBRARIES=${MPICH_DIR}/lib/libmpichf90.a \<br/>
 -DCMAKE_SYSTEM_NAME=Catamount \<br/>
 ../PIO_source/<br/>
 %&gt; make</p>
<p class="endli"></p>
</li>
</ol>
<p><a class="anchor" id="Hobart"></a> </p>
<h3>Hobart</h3>
<ol>
<li>
<p class="startli">Directory setup</p>
<p>Download a copy of the PIO source into a sub-directory of your working directory (refered to here as the PIO_source directory). Create another sub-directory for the build (refered to here as the PIO_build directory) and 'cd' into it.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Modules</p>
<p>Modules required for installation depend on your prefered compiler. Issue the commands below to set the module environment for building PIO on Hobart.</p>
<ul>
<li><p class="startli">Intel</p>
<p class="startli">%&gt; module purge<br/>
 %&gt; module load compiler/intel/15.0.2.164<br/>
 %&gt; module load tool/parallel-netcdf/1.6.1/intel<br/>
</p>
</li>
<li><p class="startli">Nag</p>
<p class="startli">%&gt; module purge<br/>
 %&gt; module load compiler/nag/6.0<br/>
 %&gt; module load tool/parallel-netcdf/1.6.1/nag/openmpi<br/>
</p>
</li>
<li><p class="startli">PGI</p>
<p class="startli">%&gt; module purge<br/>
 %&gt; module load compiler/pgi/15.1<br/>
 %&gt; module load tool/parallel-netcdf/1.6.1/pgi/mvapich2<br/>
</p>
</li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Environment Variables</p>
<p>The appropriate compiler wrappers must be chosen for cmake, so the environment variables CC and FC must be set as:<br/>
 CC=mpicc<br/>
 FC=mpif90<br/>
</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Build</p>
<p>Building PIO requires running the CMake configure and then make. In the PIO_build directory type<br/>
 %&gt; cmake -DNETCDF_DIR=$NETCDF_PATH -DPNETCDF_DIR=$PNETCDF_PATH ../PIO_source/<br/>
 %&gt; make</p>
<p>ParallelIO does not require Parallel netcdf to run, so if you decide to use the GNU compiler on Hobart (not described here) without the parallel-netcdf library, use the cmake configure flags:<br/>
 %&gt; cmake -DNETCDF_DIR=$NETCDF_PATH -DWITH_PNETCDF=FALSE ../PIO_source/<br/>
 %&gt; make</p>
<p class="endli"></p>
</li>
</ol>
<p><em>Last updated: 10-20-2015</em> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 3 2015 10:38:08 for PIO by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
